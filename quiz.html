<!DOCTYPE html>
<html lang="en">
	<head> 
		<meta charset="UTF-8">
		<title>Quiz</title>
		<link rel="stylesheet" href="css/quiz.css">
		<link rel="stylesheet" href="css/NavBar.css">
	</head>
 	<body style="background-image: url(img/indexBackground.png);
	 background-repeat: no-repeat;
	 background-attachment: fixed;
	 background-size: 100%;">
		<div class="quizQuestions" id="timer">
					<div id="timerLabel">Time Left:  </div> <!--The quiz time is limited to one minute.When you start the quiz, you can see the time left-->
					<div id="showTimer"></div>
					<span style="margin-left:500px;"><a href="#q1" class="quizAnchors">Q 01-03</a></span>
					<span style="margin-left:20px;"><a href="#q4" class="quizAnchors">Q 04-06</a></span>
					<span style="margin-left:20px;"><a href="#q7" class="quizAnchors">Q 07-10</a></span>
		</div>
		<div class = "navbar">
			<a href="main.html">
				<img src="img/logo.png" class="navbar img" alt="Logo">
			</a>
			<a href="musicPge.html" class="Button" ><span>Music Page</span></a>
			<a href="QueryForm.html" class="Button" ><span>Contact Us</span></a>
			<a href="studentdetails.html" class="Button" ><span>About Us</span></a>
			<a href="sitemap.html" class="Button" ><span>Site Map</span></a>
			<a href="gallery.html" class="Button" ><span>Gallery</span></a>
			<a href="quiz.html" class="Button" ><span>Quiz</span></a>
			<a href="buy_products.html" class="Button" ><span>Buy Products</span></a>			
			<a href="main.html" class="Button"><span>Home</span></a>
		</div>
		
		<form name="quiz" id="quiz"> <!--Multiple-choice quiz-->
			<div id="quizRules">
				<h1 id="quizHeading">Welcome to the QUIZ</h1>
				<br>
				<!--The rules of the quiz-->
				<p class="quizDetails"><strong>There are 10 music trivia questions.</strong></p>
				<p class="quizDetails"><strong>You have only one minute to answer all the questions.</strong></p>
				<p class="quizDetails"><strong>The time will start after you press the start button.</strong></p>
				<p class="quizDetails"><strong>You'll get points on the basis of your correct answers.</strong></p>
				<div class="button">
					<button id="startButton" type="button" value="start" onclick="showQuiz(this.form);">START</button>
				</div>
			</div>
			
			
			
			<div class="quizQuestions">
				<!--10 quiz questions included-->
				<div id="questions">
					<div class="ques" id="q1">
						<p><strong>1. What does Lady Gaga affectionately call her fans?</strong></p>
						<p class="answers"><input type="radio" name="question1" value="wrong"> Lady Squad</p>
						<p class="answers"><input type="radio" name="question1" value="correct"> Little Monsters</p> 
						<p class="answers"><input type="radio" name="question1" value="wrong"> Sisters</p>
						<p class="answers"><input type="radio" name="question1" value="wrong"> bee bunnies</p>
					</div>

					<div class="ques">
						<p><strong>2. Cardi B starred on what reality show?</strong></p>
						<p class="answers"><input type="radio" name="question2" value="wrong"> The Who</p>
						<p class="answers"><input type="radio" name="question2" value="wrong"> The Talent</p>
						<p class="answers"><input type="radio" name="question2" value="correct"> Love and Hip Hop</p>
						<p class="answers"><input type="radio" name="question2" value="wrong"> AMGT</p>
					 </div>

					 <div class="ques">
						<p><strong>3. What was Madonna‘s first top 10 hit?</strong></p>
						<p class="answers"><input type="radio" name="question3" value="correct"> Holiday</p>  
						<p class="answers"><input type="radio" name="question3" value="wrong"> 1999</p>
						<p class="answers"><input type="radio" name="question3" value="wrong"> Heartbreak Hotel</p>
						<p class="answers"><input type="radio" name="question3" value="wrong"> I Wanna Be Your Man</p>
					 </div>

					 <div class="ques" id="q4">
						<p><strong>4. Who was the very first American Idol winner?</strong></p>
						<p class="answers"><input type="radio" name="question4" value="wrong"> Mariah Carey</p>   
						<p class="answers"><input type="radio" name="question4" value="wrong"> Demi Lovato</p>
						<p class="answers"><input type="radio" name="question4" value="wrong"> Katy Perry</p>
						<p class="answers"><input type="radio" name="question4" value="correct"> Kelly Clarkson</p>  
					</div>       

					<div class="ques">
						<p><strong>5. What pop star wrote songs for Ariana Grande, Miley Cyrus, Britney Spears and Alice Cooper?</strong></p>
						<p class="answers"><input type="radio" name="question5" value="wrong"> Stayin Alive</p> 
						<p class="answers"><input type="radio" name="question5" value="wrong"> Hey Ya!</p> 
						<p class="answers"><input type="radio" name="question5" value="correct"> Kesha</p> 
						<p class="answers"><input type="radio" name="question5" value="wrong"> Side to side</p> 
					</div>

					<div class="ques">
						<p><strong>6. Before Miley Cyrus recorded “Wrecking Ball,” it was offered to which singer?</strong></p>
						<p class="answers"><input type="radio" name="question6" value="correct"> Beyonce</p> 
						<p class="answers"><input type="radio" name="question6" value="wrong"> Britney Spears</p>
						<p class="answers"><input type="radio" name="question6" value="wrong"> Bees Gees</p>
						<p class="answers"><input type="radio" name="question6" value="wrong"> Ed Sheeran</p>
					</div>

					<div class="ques" id="q7">
						<p><strong>7. Which artist’s entire 1985 Live Aid set consisted of just a single cover song?</strong></p>
						<p class="answers"><input type="radio" name="question7" value="wrong"> David Bowie</p>
						<p class="answers"><input type="radio" name="question7" value="correct"> Elvis Costello</p>
						<p class="answers"><input type="radio" name="question7" value="wrong"> Elvis Presley</p>
						<p class="answers"><input type="radio" name="question7" value="wrong"> Eric Calpton</p>
					</div>
					
					<div class="ques">
						<p><strong>8. What rock icon was the founder of The Society for the Prevention of Cruelty to Long-haired Men?</strong></p>
						<p class="answers"><input type="radio" name="question8" value="wrong"> Freddie Mercury</p>
						<p class="answers"><input type="radio" name="question8" value="wrong"> Robert Plant</p>
						<p class="answers"><input type="radio" name="question8" value="wrong"> John Lennon</p>
						<p class="answers"><input type="radio" name="question8" value="correct"> David Bowie</p>
					</div>
				   
					<div class="ques">
						<p><strong>9. Keith Moon and John Entwistle of The Who are said to have inspired the name of which other classic rock band?</strong></p>
						<p class="answers"><input type="radio" name="question9" value="wrong"> Keith Richards</p>
						<p class="answers"><input type="radio" name="question9" value="wrong"> Robert Plant</p>
						<p class="answers"><input type="radio" name="question9" value="correct"> Led Zeppelin</p>
						<p class="answers"><input type="radio" name="question9" value="wrong "> Roger Daltrey</p>
					</div>

					<div class="ques">
						<p><strong>10. Who was Marvin Gaye‘s duet partner?</strong></p>
						<p class="answers"><input type="radio" name="question10" value="wrong"> The Eagles</p>
						<p class="answers"><input type="radio" name="question10" value="wrong"> Berry Gordy</p>
						<p class="answers"><input type="radio" name="question10" value="correct"> Tammi Terrell</p>
						<p class="answers"><input type="radio" name="question10" value="wrong"> Lance Bass</p>
					</div>
					<div>
						<button id="submitButton" type="button" class="submit" onclick="checkAnswers(),colorChange(),printResult();">SUBMIT</button>
					</div>
				</div>
			</div>	
			<div id="finalResults"> <!--After the quiz, you can see your results summary-->
				<h3 id="resultsHeading">RESULTS</h3>
				<div id="results">
				   <div id="totalScore" class="resultsDetails" style="margin-top:20px;"></div>
				   <div id="correctAns" class="resultsDetails"></div>
				   <div id="incorrectAns" class="resultsDetails"></div>
				   <div id="emptyAns" class="resultsDetails"></div>
				   <div id="remainingTime" class="resultsDetails" style="margin-bottom:20px;"></div>
				</div> 
				<div class="button">
					<button id="retryButton" onclick="resetPage(),stopTimer();" type="button"> RETRY </button>
				</div>
			</div>
		</form>
		
		
		<script>
			var time;
			var correctQuestions = '';
			var incorrectQuestions = '';
			var emptyQuestions = '';
			var total = 0;
			var i;
			var j;
			var isEmpty = 0;
			var timer;
			
			function showQuiz(){
				document.getElementById("quizRules").style.display = 'none';
				document.getElementsByClassName("quizQuestions")[0].style.display = 'block';
				document.getElementsByClassName("quizQuestions")[1].style.display = 'block';
				startTimer();
				timeout();
			}
				
			function startTimer(){
				time = 59;
				timer = setInterval(
					function(){
						document.getElementById('showTimer').innerHTML = time;
						if(time>0){
							time--
						}else{
							stopTimer();
							time=0;
						}
					},1000);
			}

			function getRadioValue(questionNum){
                 for(let i = 0; i < questionNum.length; i++){
                if(questionNum[i].checked){
                return questionNum[i].value;                            
            }
        }
        return "";
    }
			
			  
			function checkAnswers() {
				stopTimer();
				document.getElementById('remainingTime').innerHTML = "Time Remained : " + time + "seconds";
				clearTimeout(setTimer);
				
				for(i = 1; i <= 10; i++) {
					var questionNum = document.getElementsByName('question'+i);

					
					for(j = 0; j < questionNum.length; j++) {
						var radioValue = getRadioValue(questionNum);
						if(radioValue == "correct") {
							total = total + 2;
							correctQuestions = correctQuestions +'Question '+i+", ";
						}else if (radioValue == "wrong")  {
							total = total - 1; 
							incorrectQuestions = incorrectQuestions +'Question '+i+", ";
						}else{
							isEmpty += 1;
							if(isEmpty == 4){
								emptyQuestions = emptyQuestions +'Question '+i+", ";
							}
						}
					}
					isEmpty = 0;
				}
				
				document.getElementById("quizRules").style.display = 'none';
				document.getElementsByClassName("quizQuestions")[0].style.display = 'none';
				document.getElementsByClassName("quizQuestions")[1].style.display = 'none';
				document.getElementById("finalResults").style.display = 'block';
			}
			
			function printResult(){
				document.getElementById('totalScore').innerHTML = "Total Score = " + total + "/20";
				document.getElementById('correctAns').innerHTML = "Questions which you entered Correct Answers : " + correctQuestions;
				document.getElementById('incorrectAns').innerHTML = "Questions which you entered Incorrect Answers : " + incorrectQuestions;
				document.getElementById('emptyAns').innerHTML = "Questions which you missed : " + emptyQuestions;
				document.getElementById('remainingTime').innerHTML = "Time Remained : " + time + "seconds";
			}
			function colorChange(){
				if(total>=15) {
					document.body.style.backgroundImage = "url('img/quiz/green.png')";
				}
				else if(total<15 && total>=10){
					document.body.style.backgroundImage = "url('img/quiz/blue.png')";
				}
				else if(total<10 && total>=5){
					document.body.style.backgroundImage = "url('img/quiz/purple.png')";
				}
				else if(total<5 && total>=0){
					document.body.style.backgroundImage = "url('img/quiz/red.png')";
				}
				else{
					document.body.style.backgroundImage = "url('img/quiz/yellow.png')";
				}
			}
			
			function timeout() {
				setTimer = setTimeout('timeUp()',60000);		
			}

			function timeUp() {
				alert("Your Time is UP!");
				checkAnswers();
				colorChange();
				printResult();
			}
			
			function resetPage(){
				document.getElementById("quiz").reset();
				document.getElementById("quizRules").style.display = 'block';
				document.getElementsByClassName("quizQuestions")[0].style.display = 'none';
				document.getElementsByClassName("quizQuestions")[1].style.display = 'none';
				document.getElementById("finalResults").style.display = 'none';
				total = 0;
				correctQuestions = '';
				incorrectQuestions = '';
				emptyQuestions = '';
				document.body.style.backgroundColor="#fff";
				document.body.style.backgroundImage = "url(img/indexBackground.png)";
			}
			
			function stopTimer(){
				clearInterval(timer);
			}
			
		</script>
		
		<!--The user will get 2 marks for each correct answer, and -1 for each wrong answer-->
		<!--The background color also changing for user's marks-->
		<p>Page Done by <a href="Tharushi.html">Tharushi</a></p>
	</body>


</html>                    